---
title: "CIS663ProjectSP25"
author: "Vlad Krotov"
date: "2025-02-26"
output: word_document
---


## Abstract
A bias or discrimination against persons based on their age is a significant issue in the workplace. This project aims to analyze the impact of age on job satisfaction and compensation in the tech industry. We investigate whether such discrimination exists by analyzing data from the Stack Overflow Annual Developer Survey for 2024, focusing on U.S.-based developers only. Two hypotheses are tested: (1) older developers tend to earn lower salaries, and (2) they report lower job satisfaction compared to their younger counterparts. The analysis will focus on understanding how age influences job satisfaction and compensation, while also considering other factors such as education level, years of professional coding experience, and employment status. By examining these relationships, we aim to provide insights into the potential biases faced by older developers in the tech industry.The entire project is conducted using R for data preprocessing, regression analysis as well as visualizations to support the findings. Key variables such as age, education level, employment type, developer type, job satisfaction, compensation, and experience were numerically encoded for the purpose of this analysis. Multicollinearity is addressed using variance inflation factors (VIF), and a stepwise regression is used to determine significant predictors of job satisfaction and yearly compensation. The results suggest age has an inverse relationship with job satisfaction and compensation, indicating potential bias against older developers. The results also assert that, compensation, years of professional coding experience, and full-time employment status are positively and significantly associated with job satisfaction. Furthermore, job satisfaction, age, education level, and full-time employment status significantly predict yearly compensation. The findings highlight the need for policy makers to strengthen enforcement of the Age Discrimination in Employment Act (ADEA).

## Introduction
Ageism is broadly defined as discrimination against individuals based on age, has become an increasingly concerning issue in the technology industry. Unlike in other industries where the signs of age-related bias typically emerge around the age of 41, IT professionals may begin facing such discrimination as early as age 29, according to a recent CWJobs survey (Sevilla, 2019). This early onset of discrimination reflects a deep-rooted preference for youth within the tech industry, where innovation is often equated with being young and agile. The tech industry is notorious for its fast-paced environment, where the latest trends and technologies are constantly evolving. This rapid change can create a perception that older workers may not be as adaptable or up-to-date with the latest skills, leading to age-related biases in hiring and promotion decisions.This bias is reinforced by both cultural narratives and industry practices like the idiomatic expression "you can't teach an old new tricks", which generally means that it is difficult for older people to learn new things.  Popular media spotlights like “30 under 30” lists celebrate youth as a hallmark of success, inadvertently sidelining older professionals (Sevilla, 2019). Controversial statements by technology leaders such as “young people are just smarter” by Mark Zuckerberg reinforce ageism as well (Kotler, 2015). Addressing ageism in tech is critical for several reasons. First, It is illegal under US law to discriminate based on age, just like any other form of discrimination. It can also lead to a loss of valuable talent, experience and mentoring as older workers may be pushed out of the industry or discouraged from pursuing tech careers altogether. Ageism can also create a toxic work environment that stifles collaboration and innovation, as younger and older workers may be pitted against each other rather than working together to solve problems. Furthermore, ageism can have serious consequences for the mental health and well-being of older workers, who may feel undervalued and marginalized in their workplaces.Finally, there is a strong ethical imperative to ensure fairness and equal opportunity in a field that is otherwise dominated by young professionals. Promoting age inclusivity is not just a legal obligation but buildnig a just and equitable workplace culture.

## Literature Review
Ageism, or discrimination based on age, is widely recognized as a violation of human rights. Article 26 of the International Covenant on Civil and Political Rights mandates equal protection against all forms of discrimination, including age (UN General Assembly, 1966). Discrimination is the unfair or prejudicial treatment of people and groups based on characteristics such as race, gender, age, or sexual orientation(“Discrimination: What It Is and How to Cope,” 2024). In the context of the workplace environment, age discrimination can be direct, such as refusing to hire older candidates, or indirect, where seemingly neutral policies disproportionately disadvantage older workers (Stanford Encyclopedia of Philosophy, 2020). AN example is "crunch-time" culture, which is prevalent in the tech industry and often requires employees to work long hours, making it difficult for older workers with family responsibilities to keep up. This can lead to a perception that older workers are less committed or less capable of handling the demands of the job, further perpetuating age-related biases (Sevilla, 2019). Additionally, the burden of proof for age discrimination cases is often placed on the employee, making it difficult to prove discrimination occurred (Stanford Encyclopedia of Philosophy, 2020). Despite these challenges, there have been some positive developments in recent years. For example, some companies have implemented diversity and inclusion initiatives that specifically address ageism in the workplace. These initiatives aim to create a more inclusive work environment by promoting intergenerational collaboration and mentorship programs (Sevilla, 2019).

## Theory
If ageism exists in the technology industry, the following hypothesis are expected to be true:

  H1: Older developers are likely to earn a lower salary in comparison to younger employees

  H2: Older developers are likely to report lower job satisfaction than younger employees


## Data
The data used in this project is sourced from the Stack Overflow Annual Developer Survey for 2024. The survey is a comprehensive questionnaire that collects information on various aspects of the developer community, including demographics, job satisfaction, compensation, and work experience. The dataset includes about 70,000 responses from developers worldwide, but for this analysis, we will focus specifically on U.S.-based developers. The survey data is publicly available and can be accessed through the Stack Overflow website (https://survey.stackoverflow.co/2024/). The dataset contains a wide range of variables, including age, education level, employment status, developer type, job satisfaction, compensation, and years of professional coding experience. These variables will be used to analyze the relationship between age and job satisfaction/compensation. The data is in CSV format and can be easily imported into R for analysis. The survey data is structured in a way that allows for easy manipulation and analysis using R's data manipulation libraries.

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Reading Data from StackOverflow Files


```{r rdataimport, eval=FALSE}
survey_data <- read.csv("survey_results_public.csv")
schema_data <- read.csv("survey_results_schema.csv")
save(survey_data, schema_data, file = "survey_data.RData")

```


```{r load-data, echo=TRUE, message=FALSE, warning=FALSE}
# Load the dataset
load("survey_data.RData")

# Check what objects were loaded
#ls()

# View dataset structure
#str(survey_data)  

# View first few rows
head(survey_data)

```

```{r, include=FALSE}
# Display all column names
colnames(survey_data)
```

## Methodology
On importing the Data in R, the first step is to select relevant columns based on the project focus. The selected columns include Age, Country, EdLevel, Employment, DevType, YearsCodePro, ConvertedCompYearly, JobSat, and WorkExp. The next step is to check the number of missing values per column and drop all missing values. After that, we filter for only United States-based developers and drop the Country column since it's no longer needed. The next step is to convert YearsCodePro, JobSat, ConvertedCompYearly and WorkExp to numeric values. We also drop records with ConvertedCompYearly less than 5000.This was done because some observations had single digit values as yearly income and this was not realistic. The cut-off value of 5000 minimum yearly compensation was arrived at taking into consideration the state with the lowest minimum wage (Georgia and Wyoming) at $5.15 and minimum working hours of 20 per week.   The next step is to clean the DevType column by normalizing separators and whitespace, splitting it into a list column, and trimming whitespace for individual dev types. We also create a dummy variable where dev type containing "Developer" is 1 and all others are 0. The next step is to clean the Employment column by dropping certain values and creating binary columns for each employment type. We also rename columns to remove spaces and special characters. Finally, we drop unnecessary columns and encode Education Level and Age as ranked numeric variables.

```{r include=FALSE}
# Install required packages
#install.packages("tidyverse") 
# Load libraries
library(tidyverse)

```

```{r}
# Selecting relevant columns based on project focus
selected_columns <- c("Age", "Country", "EdLevel", "Employment", 
                      "DevType", "YearsCodePro", "ConvertedCompYearly", "JobSat","WorkExp")
survey_data_selected <- survey_data[selected_columns]

```

```{r}
# Checking data after selection
str(survey_data_selected)
head(survey_data_selected)
```

```{r}
# Checking the number of missing values per column
colSums(is.na(survey_data_selected))
```

```{r}
# Drop all missing values
survey_data_selected <- survey_data_selected %>% drop_na()
# Check the number of missing values again
colSums(is.na(survey_data_selected))

```

```{r}
# Filter for only united states
survey_data_selected <- survey_data_selected %>% filter(Country == "United States of America")
# Drop the Country column since it's no longer needed
survey_data_selected <- survey_data_selected %>% select(-Country)
```

```{r}
# Convert YearsCodePro to numeric
survey_data_selected$YearsCodePro <- as.integer(gsub("[^0-9]", "", survey_data_selected$YearsCodePro))

# Convert JobSat to numeric
survey_data_selected$JobSat <- as.integer(gsub("[^0-9]", "", survey_data_selected$JobSat))

# Convert ConvertedCompYearly to numeric
survey_data_selected$ConvertedCompYearly <- as.integer(gsub("[^0-9]", "", survey_data_selected$ConvertedCompYearly))
# Drop records with ConvertedCompYearly = 1
survey_data_selected <- survey_data_selected %>% filter(ConvertedCompYearly > 5000)


# Convert WorkExp to numeric
survey_data_selected$WorkExp <- as.integer(gsub("[^0-9]", "", survey_data_selected$WorkExp))

# Check the structure of the dataset after conversion
str(survey_data_selected)
# Check the first few rows
head(survey_data_selected)
```


```{r}
# Save cleaned dataset
save(survey_data_selected, file = "survey_data_cleaned.RData")
```

```{r}
# Load the cleaned dataset
load("survey_data_cleaned.RData")
# Check the structure of the cleaned dataset
str(survey_data_selected)
# Check the first few rows
head(survey_data_selected)

```

```{r}
# clean devtype column
survey_data_selected <- survey_data_selected %>%
  mutate(
    # Normalize separators and whitespace
    DevType = str_replace_all(DevType, "\\s*;\\s*", ";"),
    DevType = str_trim(DevType),
    # Split into list column
    DevType_split = strsplit(DevType, ";")
  ) %>%
  # Trim whitespace for individual dev types
  mutate(DevType_split = map(DevType_split, ~ str_trim(.x)))
# Get unique dev types
dev_types <- survey_data_selected$DevType_split %>%
  unlist() %>%
  unique() %>%
  sort()
# Drop I prefer not to say from dev types because it is vague and only represents small portion of data
dev_types <- dev_types[dev_types != "I prefer not to say"]
# Create one dummy variable where dev type containing "Developer" is 1 and all others are 0
survey_data_selected$DevType_Developer <- as.integer(
  sapply(survey_data_selected$DevType_split, function(x) any(grepl("Developer", x)))
)
# drop intermediate columns
survey_data_selected <- survey_data_selected %>%
  select(c(-DevType_split, -DevType))
```


```{r}

# Clean the Employment column
# list unique values in Employment column
unique(survey_data_selected$Employment)

# drop "Employed, full-time;Not employed, but looking for work" and "Employed, full-time;Not employed, and not looking for work" in Employment column
survey_data_selected <- survey_data_selected %>%
  filter(!Employment %in% c(
    "Employed, full-time;Not employed, but looking for work",
    "Employed, full-time;Not employed, and not looking for work"
  ))

# Create binary columns for each employment type
# Normalize Employment column
survey_data_selected$Employment <- str_replace_all(survey_data_selected$Employment, "\\s*;\\s*", ";")
survey_data_selected$Employment <- str_trim(survey_data_selected$Employment)

# Split Employment column into a list of employment types
survey_data_selected$Employment_split <- strsplit(survey_data_selected$Employment, ";")
# Trim whitespace for individual employment types
survey_data_selected$Employment_split <- lapply(survey_data_selected$Employment_split, function(x) {
  x <- str_trim(x)
  x[x != ""]  # Remove empty strings
})

# get unique employment types
employment_types <- unique(unlist(survey_data_selected$Employment_split))
# Create binary columns for each employment type
for (type in employment_types) {
  survey_data_selected[[type]] <- as.integer(
    sapply(survey_data_selected$Employment_split, function(x) type %in% x)
  )
}


# Rename columns to remove spaces and special characters
colnames(survey_data_selected) <- gsub(" ", "_", colnames(survey_data_selected))
colnames(survey_data_selected) <- gsub(",", "", colnames(survey_data_selected))
colnames(survey_data_selected) <- gsub("-", "_", colnames(survey_data_selected))



# Drop the intermediate Employment_split column
survey_data_selected <- survey_data_selected %>%
  select(-Employment_split)
# Drop Employment column since it's no longer needed
survey_data_selected <- survey_data_selected %>%
  select(-Employment)
# Drop Student_full_time column, Student_part_time column and Retired since they are not needed
survey_data_selected <- survey_data_selected %>%
  select(-Student_full_time, -Student_part_time, -Retired, -Not_employed_but_looking_for_work, -Employed_part_time, -Independent_contractor_freelancer_or_self_employed)

```


```{r}
# List unique values in EdLevel column
unique(survey_data_selected$EdLevel)

# Drop records with Something else in EdLevel
survey_data_selected <- survey_data_selected %>%
  filter(EdLevel != "Something else")

# Encode Education Level as ranked numeric variable
survey_data_selected <- survey_data_selected %>%
  mutate(EdLevel = as.integer(factor(EdLevel, levels = c(
    "Primary/elementary school",
    "Secondary school (e.g. American high school, German Realschule or Gymnasium, etc.)",
    "Some college/university study without earning a degree",
    "Associate degree (A.A., A.S., etc.)",
    "Bachelor’s degree (B.A., B.S., B.Eng., etc.)",
    "Master’s degree (M.A., M.S., M.Eng., MBA, etc.)",
    "Professional degree (JD, MD, Ph.D, Ed.D, etc.)"
  ), ordered = TRUE)))
```

```{r}
# drop Age that is prefer not to say since its vague and only represents small portion of data
survey_data_selected <- survey_data_selected %>%
  filter(Age != "Prefer not to say")

#Encode Age as ranked numeric variable
survey_data_selected <- survey_data_selected %>%
  mutate(Age = as.integer(factor(Age, levels = c(
    "Under 18 years old",
    "18-24 years old",
    "25-34 years old",
    "35-44 years old",
    "45-54 years old",
    "55-64 years old",
    "65 years or older"
  ), ordered = TRUE)))


```
The final dataset was checked for structure and the first few rows were displayed to ensure that the data was cleaned and encoded correctly. The cleaned and encoded dataset was then saved for further analysis.
```{r}
# Checking final structure
str(survey_data_selected)
head(survey_data_selected)

# Saving cleaned encoded data
save(survey_data_selected, file = "survey_data_cleaned_encoded.RData")

```

Variance Inflation Factor (VIF) and correlation matrices were used to check for multicollinearity using job satisfaction as the dependent variable before final regression modeling to ensure the reliability of the results. The VIF values were plotted on a bar plot to visualize the multicollinearity. A VIF value greater than 5 indicates a potential multicollinearity issue. The correlation matrix was also displayed as a table using the stargazer package for better readability.

```{r}
# Load the cleaned and encoded dataset
load("survey_data_cleaned_encoded.RData")

# check for multicollinearity
library(car)
# Check for multicollinearity using VIF
vif_model <- lm(JobSat ~ Age + EdLevel + DevType_Developer + ConvertedCompYearly + YearsCodePro + WorkExp + Employed_full_time, data = survey_data_selected)
vif(vif_model)
# barplot for VIF values
vif_values <- vif(vif_model)
# Create a barplot for VIF values
barplot(vif_values, main = "VIF Values", horiz = TRUE, col = "steelblue")
# Add a vertical line at VIF = 5
abline(v = 5, col = "red", lty = 2)

vif_model2 <- lm(JobSat ~ Age + EdLevel + DevType_Developer + ConvertedCompYearly + WorkExp + Employed_full_time, data = survey_data_selected)
vif(vif_model2)
# barplot for VIF values
vif_values2 <- vif(vif_model2)
# Create a barplot for VIF values
barplot(vif_values2, main = "VIF Values", horiz = TRUE, col = "steelblue")
# Add a vertical line at VIF = 5
abline(v = 5, col = "red", lty = 2)

vif_model3 <- lm(JobSat ~ Age + EdLevel + DevType_Developer + ConvertedCompYearly + YearsCodePro + Employed_full_time, data = survey_data_selected)
vif(vif_model3)
# barplot for VIF values
vif_values3 <- vif(vif_model3)
# Create a barplot for VIF values
barplot(vif_values3, main = "VIF Values", horiz = TRUE, col = "steelblue")
# Add a vertical line at VIF = 5
abline(v = 5, col = "red", lty = 2)

# Check for multicollinearity using correlation matrix
correlation_matrix <- cor(survey_data_selected[, c("Age", "EdLevel", "DevType_Developer", "ConvertedCompYearly", "YearsCodePro", "WorkExp")], use = "pairwise.complete.obs")

# Display the correlation matrix as table with stargazer
library(stargazer)
stargazer(correlation_matrix, type = "text", title = "Correlation Matrix", digits = 4)
```

In the initial model,some VIF values were above the commonly accepted threshold of 5, indicating potential multicollinearity issues (YearsCodePro and WorkExp). The model was refined by dropping the YearsCodePro first and subsequently the WorkExp variable, which resulted in lower VIF values. The latter variable resulted in lowest VIF values, hence WorkExp was dropped from the analysis. The correlation matrix was also checked to ensure that there were no strong correlations between the independent variables.
Overall, the VIF values and correlation matrix indicated that multicollinearity was not a significant issue in the final mode and all the selected predictors were appropriate to be included in the models. The final model included Age, EdLevel, DevType_Developer, ConvertedCompYearly, and Employed_full_time as independent variables.

The distribution of job satisfaction was explored using a bar plot. The plot showed the frequency of each job satisfaction level, providing insights into the overall job satisfaction levels among developers. To identify the significant factors influencing job satisfaction, a stepwise regression analysis was performed. The stepwise regression model was built using the lm() function in R, with JobSat as the dependent variable and all other variables as independent variables. The stepAIC() function from the MASS package was used to perform the stepwise regression, which automatically selects the best model based on AIC criteria. The summary of the final model was displayed using the stargazer package for better readability.
```{r}
# Explore job satisfaction
library(ggplot2)
ggplot(survey_data_selected, aes(x = JobSat)) +
  geom_bar() +
  labs(title = "Job Satisfaction Distribution", x = "Job Satisfaction", y = "Count") +
  theme_minimal()


# perform regression analysis with JobSat as dependent variable using stepwise regression
library(MASS)
# Perform stepwise regression with both directions
stepwise_model_both <- stepAIC(lm(JobSat ~ ., data = survey_data_selected), direction = "both")
# Display the summary of the both direction stepwise model
summary(stepwise_model_both)
stargazer(stepwise_model_both, type = "text", align=TRUE)

# Explore the relationship between JobSat and ConvertedCompYearly
ggplot(survey_data_selected, aes(x = ConvertedCompYearly, y = JobSat)) +
  geom_point() +
  geom_smooth(method = "auto", se = FALSE) +
  labs(title = "Job Satisfaction by Yearly Compensation", x = "Yearly Compensation", y = "Job Satisfaction") +
  theme_minimal()

# Explore the relationship between JobSat and YearsCodePro using histogram
ggplot(survey_data_selected, aes(x = YearsCodePro, y = JobSat)) +
  geom_point() +
  geom_smooth(method = "auto", se = FALSE) +
  labs(title = "Job Satisfaction by Years of Professional Coding Experience", x = "Years of Professional Coding Experience", y = "Job Satisfaction") +
  theme_minimal()

# Explore the relationship between JobSat and Age with barplot
ggplot(survey_data_selected, aes(x = Age, fill = as.factor(JobSat))) +
  geom_bar(position = "dodge") +
  labs(title = "Job Satisfaction by Age", x = "Age", y = "Count") +
  theme_minimal() +
  scale_fill_discrete(name = "Job Satisfaction")

# Explore the relationship between JobSat and Employment_full_time with histogram
ggplot(survey_data_selected, aes(x = JobSat, fill = as.factor(Employed_full_time))) +
  geom_histogram(binwidth = 1, position = "identity", alpha = 0.5) +
  labs(title = "Job Satisfaction by Employment Status", x = "Job Satisfaction", y = "Count") +
  theme_minimal() +
  scale_fill_discrete(name = "Employment Status")

```

For the second model, the same process was followed to check for multicollinearity using VIF and correlation matrices with ConvertedCompYearly as the dependent variable. The VIF values were plotted on a bar plot to visualize the multicollinearity. A VIF value greater than 5 indicates a potential multicollinearity issue. The correlation matrix was also displayed as a table using the stargazer package for better readability. 
```{r}
# perform regression analysis with ConvertedCompYearly as dependent variable

# Check for multicollinearity using VIF
vif_model_comp <- lm(ConvertedCompYearly ~ Age + EdLevel + DevType_Developer + YearsCodePro + JobSat + WorkExp + Employed_full_time, data = survey_data_selected)
vif(vif_model_comp)
# barplot for VIF values
vif_values_comp <- vif(vif_model_comp)
# Create a barplot for VIF values
barplot(vif_values_comp, main = "VIF Values for ConvertedCompYearly", horiz = TRUE, col = "steelblue")
# Add a vertical line at VIF = 5
abline(v = 5, col = "red", lty = 2)

# drop  YearsCodepro and check for multicollinearity
vif_model_comp2 <- lm(ConvertedCompYearly ~ Age + EdLevel + DevType_Developer + JobSat + WorkExp + Employed_full_time, data = survey_data_selected)
vif(vif_model_comp2)
# barplot for VIF values
vif_values_comp2 <- vif(vif_model_comp2)
# Create a barplot for VIF values
barplot(vif_values_comp2, main = "VIF Values for ConvertedCompYearly", horiz = TRUE, col = "steelblue")
# Add a vertical line at VIF = 5
abline(v = 5, col = "red", lty = 2)

# drop workexp and check for multicollinearity
vif_model_comp3 <- lm(ConvertedCompYearly ~ Age + EdLevel + DevType_Developer + JobSat + YearsCodePro +  Employed_full_time, data = survey_data_selected)
vif(vif_model_comp3)
# barplot for VIF values
vif_values_comp3 <- vif(vif_model_comp3)
# Create a barplot for VIF values
barplot(vif_values_comp3, main = "VIF Values for ConvertedCompYearly", horiz = TRUE, col = "steelblue")
# Add a vertical line at VIF = 5
abline(v = 5, col = "red", lty = 2)

# Check for multicollinearity using correlation matrix
correlation_matrix_comp <- cor(survey_data_selected[, c("Age", "EdLevel", "JobSat","DevType_Developer", "YearsCodePro", "WorkExp")], use = "pairwise.complete.obs")
# Display the correlation matrix as table
correlation_matrix_comp
# Display the correlation matrix as table with stargazer
library(stargazer)
stargazer(correlation_matrix_comp, type = "text", title = "Correlation Matrix for ConvertedCompYearly", digits = 4)
```

The distribution of ConvertedCompYearly was explored using a histogram. The histogram showed the distribution of yearly compensation among developers, providing insights into the overall compensation levels. To identify the significant factors influencing ConvertedCompYearly, a stepwise regression analysis was performed. The stepwise regression model was built using the lm() function in R, with ConvertedCompYearly as the dependent variable and all other variables as independent variables. The stepAIC() function from the MASS package was used to perform the stepwise regression, which automatically selects the best model based on AIC criteria. The summary of the final model was displayed using the stargazer package for better readability.
```{r}
# Explore ConvertedCompYearly
ggplot(survey_data_selected, aes(x = ConvertedCompYearly)) +
  geom_histogram(binwidth = 10000, fill = "steelblue", color = "black") +
  labs(title = "Distribution of Yearly Compensation", x = "Yearly Compensation", y = "Count") +
  theme_minimal()
summary(survey_data_selected$ConvertedCompYearly)

# Perform regression analysis with ConvertedCompYearly as dependent variable using stepwise regression
stepwise_model_comp <- stepAIC(lm(ConvertedCompYearly ~ ., data = survey_data_selected), direction = "both")
# Display the summary of the both direction stepwise model
summary(stepwise_model_comp)
stargazer(stepwise_model_comp, type = "text", align=TRUE)

# scatter plot age and compensation
ggplot(survey_data_selected, aes(x = Age, y = ConvertedCompYearly)) +
  geom_point() +
  geom_smooth(method = "auto", se = FALSE) +
  labs(title = "Yearly Compensation by Age", x = "Age", y = "Yearly Compensation") +
  theme_minimal()
# scatter plot yearscodepro and compensation
ggplot(survey_data_selected, aes(x = YearsCodePro, y = ConvertedCompYearly)) +
  geom_point() +
  geom_smooth(method = "auto", se = FALSE) +
  labs(title = "Yearly Compensation by Years of Professional Coding Experience", x = "Years of Professional Coding Experience", y = "Yearly Compensation") +
  theme_minimal()
# Explore the relationship between ConvertedCompYearly and EdLevel with histogram
ggplot(survey_data_selected, aes(x = ConvertedCompYearly, fill = as.factor(EdLevel))) +
  geom_histogram(binwidth = 10000, position = "identity", alpha = 0.5) +
  labs(title = "Yearly Compensation by Education Level", x = "Yearly Compensation", y = "Count") +
  theme_minimal() +
  scale_fill_discrete(name = "Education Level")
```

To explore whether the relationship between age and job satisfaction is nonlinear, a quadratic regression model was estimated and compared to a standard linear model. Initial LOESS plots suggested a curved relationship, with job satisfaction increasing up to a point and then declining with age.
```{r}
# Quadratic regression analysis
# Example for Job Satisfaction
ggplot(survey_data_selected, aes(x = Age, y = JobSat)) +
  geom_point(alpha = 0.3) +
  geom_smooth(method = "loess", se = FALSE) +
  labs(title = "Job Satisfaction vs. Age")

ggplot(survey_data_selected, aes(x = YearsCodePro, y = JobSat)) +
  geom_point(alpha = 0.3) +
  geom_smooth(method = "loess", se = FALSE) +
  labs(title = "Job Satisfaction vs. Years of Coding Experience")

# Job Satisfaction ~ Age
model_linear <- lm(JobSat ~ Age, data = survey_data_selected)
model_quadratic <- lm(JobSat ~ Age + I(Age^2), data = survey_data_selected)

summary(model_linear)
summary(model_quadratic)
anova(model_linear, model_quadratic)  # Compare fit
# Plot the fitted values
ggplot(survey_data_selected, aes(x = Age, y = JobSat)) +
  geom_point(alpha = 0.3) +
  geom_smooth(method = "lm", formula = y ~ poly(x, 2), se = FALSE) +
  labs(title = "Job Satisfaction vs. Age (Quadratic Fit)") +
  theme_minimal()

```

## Results
### Job Satisfaction
The stepwise regression analysis for job satisfaction revealed that the final model included Age,YearsCodePro, ConvertedCompYearly, and Employed_full_time as significant predictors. The model asserts that age was negatively associated with job satisfaction (B=-0.13,p=0.035) suggesting that older developers tend to report lower job satisfaction levels compared to their younger counterparts.
The model also indicated that years of professional coding experience had a positive and significant impact on job satifaction (B=0.037,p<0.001), suggesting that satisfaction increases with professional experience.Yearly compensation also shows a positive association with job satisfaction (B=1.24e-6, p=0.001), supporting the view that higher compensation is associated with greater job satisfaction. Finally, the model indicates that full-time employment status is positively associated with job satisfaction (B=0.47,p=0.027), suggesting that full-time employees tend to report higher job satisfaction levels compared to part-time or contract workers.Overall, the model was statistically significant (F(4,3180) = 16.69, p<0.001), though the explained variance was relatively low (R^2 = 0.021), suggesting that while the identified variables contribute to job satisfaction, other unmeasured factors also play a role. The results suggest that age has an inverse relationship with job satisfaction, indicating potential bias against older developers in the tech industry.

### Yearly Compensation
A stepwise linear regression model was used to identify significant predictors of ConvertedCompYearly (yearly compensation). The final model included Age, Education Level, Years of Professional Coding Experience, Job Satisfaction, Developer Role, and Full-Time Employment Status.Age had a significant negative effect on compensation (β = -10,088, p < 0.001), suggesting that, holding other variables constant, older developers tend to earn less.Education Level and YearsCodePro were both positively associated with salary (β = 9,096 and 3,367 respectively; p < 0.001), consistent with expectations that higher education and experience increase earnings.Job Satisfaction also had a significant positive effect (β = 2,801, p < 0.001), indicating that more satisfied developers tend to earn more. Interestingly, identifying as a developer was negatively associated with compensation (β = -9,260, p = 0.028), possibly due to non-developer roles (e.g., managers, executives) having higher pay scales. And finally, Full-time employment significantly affects compensation (β = 34,761, p < 0.001), confirming that full-time roles pay substantially more than other employment types.The model was statistically significant (F(6, 3178) = 40.95, p < 0.0001), with an R^2 of 0.072, indicating that the model explains about 7.2% of the variance in yearly compensation.These results suggest that while skills, education, and job satisfaction are important drivers of compensation, age still negatively impacts earnings even after controlling for key professional qualifications. This pattern is consistent with broader concerns about ageism in the tech workforce.

### Quadratic Regression
To test for a nonlinear relationship between age and job satisfaction, a quadratic regression model was compared to a standard linear model. The linear model included Age and Years of Professional Coding Experience (YearsCodePro) as predictors of job satisfaction.The quadratic model, which included both Age and Age², provided a significantly better fit than the linear model, as confirmed by the ANOVA test.The quadratic model indicated that job satisfaction increased with age up to a certain point, after which it began to decline. This suggests that while older developers may initially experience higher job satisfaction, this trend reverses at some point in their careers. The model's coefficients indicated that the relationship between age and job satisfaction is not strictly linear, highlighting the complexity of factors influencing job satisfaction over time.The quadratic term (Age²) captures the inverted-U shape seen in the LOESS plot and the quadratic fit visualization.

## Conclusion
The analysis of the Stack Overflow Annual Developer Survey data for 2024 revealed significant insights into the impact of age on job satisfaction and compensation in the tech industry. The findings suggest that older developers tend to earn lower salaries and report lower job satisfaction compared to their younger counterparts. The results also indicate that years of professional coding experience, education level, and full-time employment status are positively associated with both job satisfaction and compensation. The quadratic regression analysis further suggests a complex relationship between age and job satisfaction, indicating that while older developers may initially experience higher job satisfaction, this trend reverses at some point in their careers. Overall, these findings highlight the need for policy makers to strengthen enforcement of the Age Discrimination in Employment Act (ADEA) and promote age inclusivity in the tech industry.

## References
Discrimination: What it is and how to cope. (2024, May 16). https://www.apa.org. https://www.apa.org/topics/racism-bias-discrimination/types-stress

Kotler, S. (2015). “Is Silicon Valley Ageist Or Just Smart?”, Forbes, Retrieved from https://www.forbes.com/sites/stevenkotler/2015/02/14/is-silicon-valley-ageist-or-just-smart/?sh=5fb0b05eed65

Sevilla, C. (2019). “Everyday ageism in the tech industry”, CWJobs. Retreived from https://www.cwjobs.co.uk/advice/ageism-in-tech

Stampler, L (2014). “Ageism in Silicon Valley Is Causing an Uptick in Plastic Surgeries”, Time, Retrieved from https://time.com/35524/ageism-in-silicon-valley-is-causing-an-uptick-in-plastic-surgeries/

Stanford Encyclopedia of Philosophy (2020). “Discrimination”. Retrieved from https://plato.stanford.edu/entries/discrimination/

- UN General Assembly. (1966). International Covenant on Civil and Political Rights. Retrieved from https://www.ohchr.org/en/instruments-mechanisms/international-human-rights-instruments/international-covenant-civil-and-political-rights

